<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vận hành Máy cắt</title>
    <!-- Bootstrap CSS (without integrity) -->
    <link rel="stylesheet" href="/style/stylemain.css">
    <link rel="stylesheet" href="/style/common.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes spin-back {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }

        .wheel {
            animation: spin 3s linear forwards;
        }

        .wheel-back {
            animation: spin-back 3s linear forwards;
        }
    </style>
</head>

<body>
    <header>
        <div class="container d-flex justify-content-center">
            <img class="img-fluid" src="/image/SPKT.jpg" alt="SPKT Image">
        </div>
        <div class="d-flex justify-content-center  pt-3">
            <div class="nav-button mr-3" onclick="window.location.href='DATNT3.html'">Home</div>
            <div class="nav-button mr-3" onclick="window.location.href='https://hcmute.edu.vn/'">Thông tin Trường</div>
            <div class="nav-button" onclick="window.location.href='https://feee.hcmute.edu.vn'"> Thông tin khoa Điện
                Điện tử</div>
        </div>
        <div class="account-bar d-flex align-items-center gap-2" id="accountBar" style="display: none;">
            <span id="usernameDisplay">Ngô Quang Trãi</span>
            <button class="btn btn-danger btn-sm logout-button" onclick="logout()">Thoát</button>
        </div>
    </header>
    <h1 class="text-center mt-5 mb-4 text-danger">Vận hành Máy cắt</h1>
    <div class="container-fuild">
        <div class="row m-0">
            <div class="col-12 col-md-5 mt-5">
                <div class="ml-5 pl-5">
                    <div class="mb-4">
                        <h3 class="text-success">Các cách vận hành</h3>
                        <ul>
                            <li class="click" id="group-1">Vận hành Máy cắt bằng tay </li>
                            <li class="click" id="group-2">Vận hành Máy cắt từ xa </li>

                        </ul>
                    </div>
                    <div class="ml-5 mb-4 group-1 d-none">
                        <h4 class="text-success"> Quy trình thao tác vận hành bằng tay </h4>
                        <ul>
                            <li class="group-1-1">B1: Bật công tắc 2 nấc chuyển về chế độ Local để thực hiện</li>
                            <li class="group-1-2">B2: Bật nút nhấn Close để đóng Máy cắt và vị trí của MC hiển thị (I)
                            </li>
                            <li class="group-1-3">B3: Bật nút nhấn Open để đóng để đóng Máy cắt và vị trí của MC (O) sau
                                đó động cơ tích điện lò xo cho lần đóng tiếp theo ( thực hiện khi mở máy cắt)</li>
                        </ul>
                        <h4 class="text-success"> Tích năng lò xo bằng tay lò xo đóng không thể tích năng tự động do mất
                            nguồn tự dùng hoặc động cơ tích năng bị hỏng</h4>
                        <ul>
                            <li class="group-2-1">B1: MC đang ở vị trí cắt (O), mạch thao tác MC đã được khoá</li>
                            <li class="group-2-2">B2: Đưa cần thao tác vào vị trí để tích lò xo</li>
                            <li class="group-2-3">B3: Quay cần thao tác theo chiều kim đồng hồ.</li>
                            <li class="group-2-4">B4: Kiểm tra chỉ thị trạng thái lò xo đóng, khi đã ở vị trí “đã tích
                                năng” thì kết thúc thao tác quay tích năng</li>
                            <li>B5: Thóa cần thao tác ra khỏi vị trí và cất vào vị trí quy định.</li>
                        </ul>
                    </div>

                    <div class="ml-5 mb-4 group-2 d-none">

                        <h4 class="text-success"> Để thực hiện thao tác vận hành từ xa thì cần bật công tắc 3 nấc chuyển
                            về chế độ Remote ở tủ để thực hiện từ xa bằng scada</h4>
                    </div>
                </div>

            </div>
            <div class="col-12 col-md-7 mb-5 p-5 ">
                <div class="d-flex justify-content-center">
                    <div class="col-6">
                        <div style="width: 300px;height: 400px; border: 1px solid black; position: relative;">
                            <div style="position: absolute;left: 70%;">
                                <img class="spin d-none" style="position: absolute;" src="/image/circle.png" width="55px"
                                    alt="">
                                <img class="btn-xl" src="/image/mc.jpg" alt="">
                            </div>
                            <div style="position: absolute;top: 15%;left: 5%;">
                                <img class="xl" src="/image/xl-roi.jpg" alt="">
                            </div>
                            <div style="position: absolute;top: 18%; left: 35%;">
                                <div class="btn-ct"
                                    style="width:30px; height: 50px;border: 2px solid black; display: flex;justify-content: center; align-items: center;background-color: green;">
                                    <div class="open-ct" style="width:25px; height: 25px; border-radius: 50%; border: 2px solid white;">
                                    </div>
                                    <div class="close-ct d-none" style="width:10px; height: 20px;background-color: white;">
                                    </div>
                                </div>
                            </div>
                            <div style="transform: scale(0.6);position: absolute;top: 50%;">
                                <div class="text-center">
                                    <span class="btn" style="transform: scale(1.5);margin-right: 12px;"
                                        data-value="Local">Local </span>
                                    <span class="btn" style="transform: scale(1.5);" data-value="Remote">Remote</span>
                                </div>
                                <div class="clock-switch">
                                    <div class="rectangle-dial align-items-center d-flex justify-content-center ">
                                        <div class="dial">
                                            <div class="pointer"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style=" position: absolute;top: 62%;left: 68%;">
                                <div class="button-container mt-2 group-1 d-done">
                                    <p><button class="btn-circle btn-red" disabled></button> Close</p>
                                    <p><button class="btn-circle btn-green" disabled></button> Open</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>

    <!-- Bootstrap Bundle with Popper (without integrity) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            // Toggle visibility for instruction groups
            $('.click').on('click', function () {
                const groupId = $(this).attr('id');

                // Hide all groups and show the clicked one
                $('.group-1, .group-2, .group-3, .group-4').addClass('d-none');
                $(`.${groupId}`).removeClass('d-none');
                $('.group-img').removeClass('d-none');
            });

            const angles = {
                "Local": -40, // 10 o'clock
                "Remote": 40   // 2 o'clock
            };

            // Initialize value and update UI accordingly
            let value = $(".btn[data-value='Remote']").data("value") || "Remote";
            updateUI(value);
            // Button click handlers for images
            $('.btn-red').click(function () {
                console.log(1)
              $('.btn-ct').css('background-color','red')
              $('.open-ct').addClass('d-none')
              $('.close-ct').removeClass('d-none')
              $('.xl').attr('src', '/image/xl-chua.jpg');
            });

            $('.btn-green').click(function () {
                $('.btn-ct').css('background-color','green')
              $('.open-ct').removeClass('d-none')
              $('.close-ct').addClass('d-none')
            });
            $('.btn-xl').click(function () {
              $('.spin').removeClass('d-none')
              $('.spin').addClass('wheel')
              setTimeout(()=>{
                $('.spin').removeClass('wheel')
                $('.spin').addClass('d-none')
                $('.xl').attr('src', '/image/xl-roi.jpg');
              },2000)
            });
            // General button click handler
            $(".btn").click(function () {
                value = $(this).data("value"); // Update value based on clicked button
                $("#selected-option").text(`Selected: ${value}`);
                $(".pointer").css("transform", `translateX(-50%) rotate(${angles[value]}deg)`);

              updateUI(value);
               
            });

            function updateUI(value) {
                console.log(value)
                if (value === 'Local') {
                    $('.btn-circle').prop('disabled', false);
                } else {
                    $('.btn-circle').prop('disabled', true);
                }
            }
        });
    </script>
    <script>
        document.getElementById('button1').onclick = function () {
            window.location.href = "DATNT3.html"; // URL của trang 1
        };
        document.getElementById('button2').onclick = function () {
            window.location.href = "https://hcmute.edu.vn/"; // URL của trang 2
        };
        document.getElementById('button3').onclick = function () {
            window.location.href = "https://feee.hcmute.edu.vn"; // URL của trang 3
        };
        // Kiểm tra trạng thái đăng nhập (giả lập)
        const isLoggedIn = true; // Thay đổi thành false để kiểm tra trạng thái không đăng nhập  
        const username = "Ngô Quang Trãi"; // Tên người dùng (giả lập)  

        // Hiển thị thông tin tài khoản nếu đã đăng nhập
        if (isLoggedIn) {
            document.getElementById("accountBar").style.display = "flex";
            document.getElementById("usernameDisplay").innerText = username;
        }
        // Xử lý khi nhấn nút "Thoát"
        function logout() {
            alert("Bạn đã thoát!");
            // Giả lập điều hướng trở về trang đăng nhập
            window.location.href = "DATNT1.html"; // Thay URL bằng trang đăng nhập thực tế
        }

    </script>
</body>

</html>